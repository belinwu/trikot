language: generic

sudo: false

jobs:
  include:
    - name: Streams
      env:
        - JAVA_OPTS="-XX:MaxPermSize=1024m -XX:+CMSClassUnloadingEnabled -XX:+HeapDumpOnOutOfMemoryError -Xmx2048m"
      language: java
      jdk:
        - openjdk8
      dist: trusty
      before_script:
        - chmod +x gradlew
        - chmod +x gradle/wrapper/gradle-wrapper.jar
      script:
        - ./gradlew test jvmTest ktlintCheck
